# Maintainer: Elaina Thompson <felinae@ulthar.cat>
pkgname=es-shell
pkgver=0_git20211218
_commit=cd5ec2c787cd6b87a538cda38158fc446c51a392
pkgrel=0
pkgdesc="shell with higher-order functions "
url="https://github.com/wryun/es-shell"
arch="all"
license="CC0"
makedepends="automake libtool autoconf byacc"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/wryun/es-shell/archive/$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

build() {
	aclocal
	autoconf
	libtoolize -qi
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}

check() {
	./es -c ''
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
a59ddf6a222ad87aca45506f73e62f903ee5cc4c215f391bc96234afb9d70363ddb3a51bc6a7bcfe6bdd23f4f5c0f8be86835232212ddbc555f9a43b975acd83  es-shell-0_git20211218.tar.gz
"

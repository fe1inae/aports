# Maintainer: Elaina Thompson <felinae@ulthar.cat>
pkgname=gmnigit
pkgver=0_git20210819
_commit=b97513313e1e6ce870c3243b6d6c17424878f9ed
pkgrel=0
pkgdesc="Static git gemini viewer written in golang."
url="https://git.sr.ht/~kornellapacz/gmnigit"
license="MIT"
arch="all"
makedepends="go"
source="$pkgname-$pkgver.tar.gz::https://git.sr.ht/~kornellapacz/gmnigit/archive/$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"
options="chmod-clean net"

export GOPATH="$srcdir"
export GOCACHE="$srcdir"
export GOTMPDIR="$srcdir"

build() {
    go build -v -o $pkgname
}

check() {
    go test .
}

package() {
    mkdir -p "$pkgdir/usr/bin"
}

sha512sums="
76b947242ad184d43edd07942a70898d1a4d2f5e219e3d46a629528ab475ac08f4b6f27394d9b636367639a49e08a110246125199e553ea0b499de0643e608f3  gmnigit-0_git20210819.tar.gz
"
